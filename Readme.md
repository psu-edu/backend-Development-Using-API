# Consuming Openweather API and Designing RESTful API with CRUD Operations

## Part 1: Consuming 3rd Party API and Data Validation

### A.	Sign Up and Get API Key from OpenWeather API 

https://openweathermap.org/api

### B.	Choose the Right API Endpoint For current weather data use
![image](https://github.com/user-attachments/assets/edbb212e-6fa2-407d-a341-b4067d98c03c)

### C.	Test API in Browser 
Philadelphia PA‚Äôs Weather
![image](https://github.com/user-attachments/assets/00c14c0b-1412-400a-b22d-2b2843122eed)


### D. Setup Instructions
Clone the repo
git clone https://github.com/psu-edu/backend-Development-Using-API.git

cd backend-Development-Using-API

##### Install Dependencies

pip install requests pydantic pymongo python-dotenv fastapi uvicorn


##### Save API Key and MongoDB URL in .env file

#### üìÅ Project Structure
![image](https://github.com/user-attachments/assets/29348db6-4e48-4db6-a75a-961860f241c5)

![image](https://github.com/user-attachments/assets/84c13555-c201-4674-8087-f47b97026d20)  2. fetch_weather.py ‚Äî-> Fetch + Validate + Save

![image](https://github.com/user-attachments/assets/debf56c1-6498-477c-b5c9-3bd3097a59a4)

## Part 2: Designing and Implementing RESTful API with CRUD Operations 

### A. Build REST API (FastAPI + MongoDB)

Created a main.py file that will be FastAPI server for the CRUD API.

Run the Server

uvicorn main:app ‚Äìreload

Check:

python --version

pip show uvicorn

Visit http://127.0.0.1:8000/docs to see the Swagger UI automatically generated by FastAPI.

### B. API Endpoints

Endpoint	Method	Description
/weather/	GET	List all entries
/weather/{id}	GET	Get by ID/ specific record
/weather/	POST	Add a new entry
/weather/{id}	PUT	Update entry
/weather/{id}	DELETE	Delete entry

## Part 3: Features

### A. MongoDB Integration (db.py)

Handles insert, update, delete, and read operations using pymongo

Uses environment variables for MongoDB URI

Separates database logic from route logic (good practice)

Business logic such as data transformation and filtering is performed directly in fetch_weather.py and main.py using functions and validation models
## Part 4: Testing

### Tools Used

pip install pytest

Unit Tests (test_main.py)

Tests for GET, POST, PUT, and DELETE endpoints

Confirms API behaves correctly for valid/invalid data

Run tests with: pytest test_main.py

## Part 5: API Testing Tools
## A. Swagger UI
Access at http://127.0.0.1:8000/docs

Interactive documentation of your API

Supports testing all routes with example payloads

### b. Postman 

Send custom headers, test response formats

Save collections for future testing

Example Payload
{
  "name": "New York",
  "main": {
    "temp": 72.3,
    "humidity": 55
  },
  "wind": {
    "speed": 6.7
  }
}

## Future Improvements
Add authentication (OAuth2 or API key)

Add data timestamp for weather entries

Use MongoDB Atlas for cloud storage

Deploy FastAPI backend to AWS, Heroku, or Render

 ‚úçÔ∏è Author

Tahira Malik

üìù License

This project is licensed under the MIT License.

